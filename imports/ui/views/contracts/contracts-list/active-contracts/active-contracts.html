<template name="activeContracts">
    <main id="all" class="data-table with-tabs">
        <div class="table-container">
            <div class="row">
                <div class="col s12">
                    {{#if isCompanyAccount}}
                        <a class="btn add-new" href="#"><i class="material-icons left">add</i>
                            Create contract</a>
                        {{/if}}
                </div>
                <div class="col s12">
                    <div class="table-wrapper">
                        <div class="table-header {{#if isCheckedContracts}}selected{{/if}}">
                            <h4 class="left">{{#if isCheckedContracts}}
                                <a class="remove" href="#"><i class="material-icons left"
                                                              style="margin-left: -3px;">close</i></a>
                                {{checkedCount}}
                                contracts selected{{else}}Contracts{{/if}}</h4>
                            <div class="right">
                                <a id="table_search" class="{{#if isCheckedContracts}}hide{{/if}}" href="#">
                                    <i class="search material-icons left">search</i>
                                    <i class="close material-icons left">close</i>
                                </a>
                                {{#if isCheckedContracts}}
                                    <a href="#"><i class="material-icons left">more_vert</i></a>
                                {{else}}
                                    <a href="#"><i class="material-icons left">filter_list</i></a>
                                {{/if}}
                            </div>
                        </div>
                        <table id="active-contracts-table" class="row-border" width="100%">
                            <thead>
                            <tr>
                                <th><input type="checkbox" class="filled-in" id="select-all" name="select-all"/><label
                                        for="select-all"></label>Name
                                    <span class="sort">
                        <a href="#"><i class="material-icons sorting_asc">keyboard_arrow_up</i></a>
                        <a href="#"><i class="material-icons sorting_desc">keyboard_arrow_down</i></a>
                      </span>
                                </th>
                                 <th>
                                    Rate
                                    <span class="sort">
                        <a href="#"><i class="material-icons sorting_asc">keyboard_arrow_up</i></a>
                        <a href="#"><i class="material-icons sorting_desc">keyboard_arrow_down</i></a>
                      </span>
                                </th>
                                <th>
                                    Type
                                    <span class="sort">
                        <a href="#"><i class="material-icons sorting_asc">keyboard_arrow_up</i></a>
                        <a href="#"><i class="material-icons sorting_desc">keyboard_arrow_down</i></a>
                      </span>
                                </th>
                                <th>
                                    Hours limit
                                    <span class="sort">
                        <a href="#"><i class="material-icons sorting_asc">keyboard_arrow_up</i></a>
                        <a href="#"><i class="material-icons sorting_desc">keyboard_arrow_down</i></a>
                      </span>
                                </th>
                                <th>
                                    Status
                                    <span class="sort">
                        <a href="#"><i class="material-icons sorting_asc">keyboard_arrow_up</i></a>
                        <a href="#"><i class="material-icons sorting_desc">keyboard_arrow_down</i></a>
                      </span>
                                </th>
                                <th>
                                    Worker
                                    <span class="sort">
                        <a href="#"><i class="material-icons sorting_asc">keyboard_arrow_up</i></a>
                        <a href="#"><i class="material-icons sorting_desc">keyboard_arrow_down</i></a>
                      </span>
                                </th>
                                <th>
                                    Employer
                                    <span class="sort">
                        <a href="#"><i class="material-icons sorting_asc">keyboard_arrow_up</i></a>
                        <a href="#"><i class="material-icons sorting_desc">keyboard_arrow_down</i></a>
                      </span>
                                </th>
                                <th>
                                    Created
                                    <span class="sort">
                        <a href="#"><i class="material-icons sorting_asc">keyboard_arrow_up</i></a>
                        <a href="#"><i class="material-icons sorting_desc">keyboard_arrow_down</i></a>
                      </span>
                                </th>
                                <th></th>
                            </tr>
                            </thead>

                            <tbody>

                            {{#each contracts}}
                                <tr>
                                    <td><input type="checkbox" checked={{isChecked}} class="filled-in" id="{{_id}}"
                                               name="table-item"/><label
                                            for="{{_id}}"></label>{{name}}
                                    </td>
                                    <td>{{paymentInfo.rate}}$</td>
                                    <td>{{paymentInfo.type}}</td>
                                    <td>{{paymentInfo.weekHoursLimit}}</td>
                                    <td>{{status}}</td>
                                    <td><a href="{{pathFor 'userProfile' id=workerId}}">{{userName workerId}}</a></td>
                                    <td><a href="{{pathFor 'userProfile' id=employerId}}">{{userName employerId}}</a></td>
                                    <td>{{formatDate createdAt 'L'}}</td>
                                    <td>{{>contractActions data=this}}</td>
                                </tr>
                            {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </main>
</template>
